# 《Web全栈工程师的自我修养》的读书笔记

## 1. 什么是全栈工程师
全栈工程师是指，一个能处理数据库，服务器，系统工程和客户端的所有工作的工程师。根据项目的不同，客户需要的可能是移动栈,Web栈，或者原生应用程序栈。

* 如果服务器出现错误，是否能在30秒内切换到备用机?
* 解决问题，而不是醉心技术。

## 2. 如何成为全栈工程师

* 先精后广，一专多长
* <strong>围绕商业目标</strong>。老板雇用一个员工，不是因为它能写程序，而是因为他能帮助自己赚钱。
* <strong>关注用户体验</strong>。每一个糟糕的体验背后都蕴含着商机。

## 3. Web性能优化

* 压缩源码和图片  
  JavaScript文件源代码可以采用混淆压缩的方式，CSS文件源代码进行普通压缩，
  JPG图片可以根据具体质量来压缩50%到70%，PNG可以使用一些开源压缩软件来压缩，比如24色变成8色，去掉一些PNG格式信息等等。
* 选择合适的图片格式   
  如果图片颜色较多就使用JPG格式，如果图片颜色较少就使用PNG格式，如果能够通过服务器端判断浏览器支持WebP，那么就使用WebP格式和SVG格式。
* 合并静态资源
  包括CSS，JavaScript和小图片，减少HTTP请求。
* 开启服务器端的Gzip压缩
  这对文本资源非常有效，对图片资源则没有那么大的压缩比率。
* 使用CDN
* 延长静态资源缓存时间
* 把CSS放在页面头部，把JavaScript放在页面底部。

在腾讯，设计师做完一次设计定稿之后，就会把设计的思路，包括整体的设计风格，设计规范和色彩的确定等都总结成一封邮件或者PPT，发送给同事。
每个人都要有意识的维护自己的作品集。

## 4. 高性能网站的关键：缓存

### 4.1 服务器缓存

#### 4.1.1 基本的数据库查询缓存

我们可以开启MySQL查询缓存来提高速度，并且减少系统压力。MySQL默认不开启查询缓存，我们可以通过修改MySQL安装目录中的my.ini来设置查询缓存。
设置的时候可以根据实际情况配置缓冲区大小，单个查询的缓冲区大小等。  
``query_cache_size=SIZE``  
SIZE是指为查询缓存开辟多大的空间。默认是0，也就是禁用查询缓存。
``query_cache_type=OPTION``  
设置查询缓存的类型，可选的值有以下这3种。
* 0:不将查询结果缓存起来，也不从缓存中获取查询结果。
* 1：所有的缓存结果都缓存起来，除非查询命令以  ```SELECT S_NO_CACHE```开始。
* 2：只缓存查询命令以```SELECT SQL_CACHE```开始的查询结果。

#### 4.1.2 扩展数据库缓存： memcached
  memcached采用的是按时间来过期的设计。
#### 4.1.3 再增加一层文件缓存
 PHP框架CodeIgniter的数据库缓存类，允许您把数据库查询结果保存在文本文件中，以减少数据库访问。
#### 4.1.4 静态化

### 4.2 浏览器缓存

#### 4.2.1 第一种：Expires
#### 4.2.2 第二种：Last-Modified
#### 4.2.3 Restful Web API
#### 4.2.4 HTTP 1.1加入的Cache-Control

下面是推荐的浏览器缓存设置最佳实践
* 对于动态生成的HTML页面使用HTTPS头：Cache-Control:no-cache
* 对于静态HTML页面使用HTTPS头： Last-Modified
* 其他所有的文件类型都设置Expires头，并且在文件内容有所修改的时候修改Query String。


## 5. 持续集成
版本控制最佳实践
* 鼓励频繁地提交
* 确定分支流程
* 定义主干原则，并且坚守它  
  主干原则是：主干对应的代码必须是可以发布并且不会产生Bug的。  
* 不要把逻辑的修改和代码格式化操作混在一起
* 不相干的代码分开提交
* 保持工作代码库的“干净”  
 如果您有文件不想也不需要提交，就加入到忽略列表(ignorelist)。

## 6.谈谈PPT
* 不要有太多文字。
* 设定进度
* 对待错误：放松
* 有条件的话，录像并对比提高。




   


